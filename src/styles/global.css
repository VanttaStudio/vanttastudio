@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
    font-family: "Midnight";
    src: url("/fonts/Midnight.woff2") format("woff2");
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

:root {
    /* Tipografía Base */
    font-family: "Inter", sans-serif;
    
    /* Variables de Astro Code (Shiki) - Estilo Dark Vantta */
    --astro-code-color-text: #ffffff;
    --astro-code-color-background: #09090b; /* zinc-950 */
    --astro-code-token-constant: #a3e635; /* lime-400 */
    --astro-code-token-string: #ffffff;
    --astro-code-token-comment: #3f3f46; /* zinc-600 */
    --astro-code-token-keyword: #a3e635; /* lime-400 accent */
    --astro-code-token-parameter: #ffffff;
    --astro-code-token-function: #ffffff;
    --astro-code-token-string-expression: #d9f99d; /* lime-200 */
    --astro-code-token-punctuation: #71717a; /* zinc-500 */
    --astro-code-token-link: #a3e635;

    /* Grid & Spacing */
    --grid-gap: 4vw;
    --base-padding-x: max(6vw, 60px);
    --base-padding-y: clamp(30px, 4vw, 50px);
}

@supports (font-variation-settings: normal) {
    :root {
        font-family: "Inter var", sans-serif;
    }
}

@media (max-width: 812px) {
    :root {
        --base-padding-x: 25px;
        --base-padding-y: 25px;
    }
}

html {
    scrollbar-gutter: stable;
    /* Cambio: Forzamos el fondo oscuro por defecto de Vantta */
    @apply overflow-x-hidden bg-zinc-950 text-white selection:bg-lime-400 selection:text-black;
    scroll-behavior: smooth;
}

/* Custom scrollbar Minimalista */
::-webkit-scrollbar {
    width: 4px;
    background-color: transparent;
}

::-webkit-scrollbar-track {
    background-color: transparent;
}

::-webkit-scrollbar-thumb {
    @apply bg-zinc-800 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-lime-400;
}

/* Selección Personalizada (Brand Color: Lime 400) */
::-moz-selection {
    color: #000;
    background: #a3e635;
}
::selection {
    color: #000;
    background: #a3e635;
}

.select-none {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    user-select: none;
}

/* Refinado de Estilos Prose para el Blog (Dark Mode Optimized) */
.prose-styles {
    @apply prose prose-invert mx-auto max-w-3xl text-zinc-400 
    prose-headings:font-black prose-headings:uppercase prose-headings:tracking-tighter prose-headings:italic prose-headings:text-white 
    prose-a:text-lime-400 prose-a:no-underline hover:prose-a:text-white 
    prose-blockquote:border-l-lime-400 prose-blockquote:bg-zinc-900 prose-blockquote:py-2 prose-blockquote:px-6 prose-blockquote:italic
    prose-code:text-lime-300 prose-pre:border prose-pre:border-zinc-800 prose-pre:bg-zinc-950
    prose-li:marker:text-lime-400;
}

.section {
    position: relative;
    width: 100%;
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    column-gap: var(--grid-gap);
    padding: var(--base-padding-y) var(--base-padding-x);
}

/* Squircles con radio suavizado para Vantta */
.squircle {
    --squircle-smooth: 1;
    --squircle-radius: 24px;
    border-radius: var(--squircle-radius);
    mask-image: paint(squircle);
}

.squircle-bg {
    --squircle-smooth: 1;
    --squircle-radius: 24px;
    @apply bg-zinc-900;
    mask-image: paint(squircle);
}

.squircle-bg-white {
    --squircle-smooth: 1;
    --squircle-radius: 24px;
    background: #fff;
    mask-image: paint(squircle);
}

/* Optimizaciones de accesibilidad y foco */
:focus-visible {
    @apply outline-none ring-2 ring-lime-400 ring-offset-2 ring-offset-zinc-950;
}