---
import { getLangFromUrl, useTranslations, useTranslatedPath } from "@i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<section class="relative isolate flex min-h-screen items-center justify-center overflow-hidden bg-zinc-950">
  <div class="absolute inset-0 -z-10">
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-lime-500/10 via-transparent to-transparent opacity-50"></div>
  </div>

  <div class="px-6 py-24 text-center sm:py-32 lg:px-8">
    <div class="flex flex-col items-center">
      <span class="font-mono text-xl font-bold tracking-[0.5em] text-lime-500 drop-shadow-[0_0_10px_rgba(163,230,53,0.5)]">
        404
      </span>
      
      <h1 class="mt-4 font-display text-5xl font-black tracking-tighter text-white sm:text-7xl md:text-8xl">
        {lang === 'es' ? 'Página no encontrada' : 'Page not found'}
      </h1>

      <p class="mt-8 text-lg leading-7 text-zinc-400 max-w-md">
        {lang === 'es' 
          ? 'Lo sentimos, no pudimos encontrar la página que buscas. Tal vez se ha movido o ya no existe.' 
          : "Sorry, we couldn't find the page you're looking for. It might have been moved or deleted."}
      </p>

      <div class="mt-12 flex flex-col items-center justify-center gap-6 sm:flex-row">
        <a
          class="flex h-14 w-full items-center justify-center rounded-full bg-white px-8 text-lg font-bold text-black transition-all hover:bg-lime-500 transform hover:scale-105 active:scale-95 sm:w-auto"
          href={translatePath("/")}>
          {t("homepage")}
        </a>

        <a 
          href={translatePath("/contact/")} 
          class="text-lg font-semibold text-white hover:text-lime-500 transition-colors flex items-center gap-2">
          {t("contactus")} <span aria-hidden="true">&rarr;</span>
        </a>
      </div>
    </div>
  </div>

  <div class="absolute bottom-10 left-10 hidden font-mono text-[10px] uppercase tracking-[0.3em] text-zinc-700 lg:block">
    Vantta Studio // Error_Protocol_404
  </div>
</section>

<style>
  /* Animación sutil de pulso para el fondo */
  section {
    animation: fadeIn 1s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .font-display {
    letter-spacing: -0.04em;
  }
</style>