---
/* GrainyGradient.astro
   Genera los blobs de color animados con textura de ruido
   basados en la identidad visual de Vantta.
*/
const { class: className } = Astro.props;
---

<div class:list={["grainy-container", className]}>
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>
    
    <svg class="hidden">
        <filter id="noiseFilter">
            <feTurbulence 
                type="fractalNoise" 
                baseFrequency="0.60" 
                numOctaves="3" 
                stitchTiles="stitch" />
            <feColorMatrix type="saturate" values="0" />
        </filter>
    </svg>
</div>

<style>
    .grainy-container {
        position: absolute;
        inset: 0;
        overflow: hidden;
        background-color: #09090b; /* zinc-950 */
        z-index: -1;
    }

    /* La capa de ruido aplicada sobre los colores */
    .grainy-container::before {
        content: "";
        position: absolute;
        inset: -100%;
        width: 300%;
        height: 300%;
        opacity: 0.15;
        pointer-events: none;
        filter: url(#noiseFilter);
    }

    .blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        opacity: 0.4;
        animation: float 20s infinite alternate ease-in-out;
    }

    /* Colores basados en tu imagen: Lima y Violeta */
    .blob-1 {
        top: -10%;
        right: -10%;
        width: 50vw;
        height: 50vw;
        background: #a3e635; /* Lime-400 */
        animation-duration: 25s;
    }

    .blob-2 {
        bottom: -10%;
        left: -5%;
        width: 40vw;
        height: 40vw;
        background: #7c3aed; /* Violet-600 */
        animation-delay: -5s;
    }

    .blob-3 {
        top: 30%;
        left: 20%;
        width: 30vw;
        height: 30vw;
        background: #27272a; /* zinc-800 */
        opacity: 0.2;
    }

    @keyframes float {
        0% { transform: translate(0, 0) scale(1); }
        33% { transform: translate(5%, 10%) scale(1.1); }
        66% { transform: translate(-5%, 5%) scale(0.9); }
        100% { transform: translate(0, 0) scale(1); }
    }
</style>