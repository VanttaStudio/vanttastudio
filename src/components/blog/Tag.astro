---
import { type CollectionEntry } from "astro:content";
import EntriesOne from "@/components/blog/Entry.astro";
import Title from "@components/global/Title.astro";

interface Props {
    tag: string;
    posts: CollectionEntry<"posts">[];
}

const { tag, posts } = Astro.props as Props;
---

<section class="bg-zinc-950 min-h-screen text-white">
    <div class="mx-auto px-8 py-24 md:px-12 lg:pt-32 2xl:max-w-7xl">
        
        <div class="relative py-10">
            <div class="absolute -left-4 top-20 text-[10rem] font-black text-zinc-900/50 select-none pointer-events-none uppercase">
                #
            </div>
            <Title 
                title={tag} 
                subtitle="Explorando la categoría" 
                class="pb-10 pt-20 uppercase font-black tracking-tighter relative z-10" 
            />
        </div>

        <ul class="mt-12 grid grid-cols-1 gap-x-6 gap-y-16 sm:grid-cols-2 lg:mt-24 lg:grid-cols-3">
            {
                posts.map((post) => (
                    <li class="group">
                        <EntriesOne
                            url={"/blog/" + post.slug}
                            title={post.data.title}
                            description={post.data.description}
                            alt={post.data.title}
                            pubDate={post.data.pubDate.toString().slice(4, 15)}
                            author={post.data.author}
                            image={post.data.image.source}
                        />
                    </li>
                ))
            }
        </ul>

        {posts.length === 0 && (
            <div class="py-20 text-center">
                <p class="font-mono text-zinc-500 uppercase tracking-widest">No hay artículos en esta categoría aún.</p>
            </div>
        )}
    </div>
</section>

<style>
    /* Estilizamos el componente hijo EntriesOne desde aquí si es necesario */
    ul :global(article) {
        @apply transition-transform duration-500 ease-out;
    }

    ul :global(article:hover) {
        @apply -translate-y-2;
    }
</style>