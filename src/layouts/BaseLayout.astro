---
import BaseHead from "@components/BaseHead.astro";
import BackgroundTexture from "@components/global/BackgroundTexture.astro";
import CursorFollower from "@components/global/CursorFollower.astro";
import Footer from "@components/global/Footer.astro";
import Navigation from "@components/global/Navigation.astro";
import { getLangFromUrl } from "../i18n/utils";

const { pathname } = Astro.url;
interface Props {
    seo?: {
        title?: string;
        description?: string;
        image?: string;
    };
}
const { seo: seoProp } = Astro.props;
const lang = getLangFromUrl(Astro.url);

const defaultSeo = {
    title: "Vantta Studio",
    description: "Vantta Studio diseño web.",
};

const seo = { ...defaultSeo, ...seoProp };
---

<html lang={lang} class="scroll-smooth">
    <head>
        <BaseHead title={seo.title} description={seo.description} image={seo.image} />
    </head>
    <body class="bg-zinc-950 text-white selection:bg-lime-400 selection:text-black overflow-x-hidden w-full">
        <CursorFollower />

        <div class="fixed inset-0 z-0 pointer-events-none">
            <BackgroundTexture />
        </div>

        <Navigation />
        
        <main id="main-content" class="relative z-10 flex-1 w-full overflow-x-hidden">
            <slot />
        </main>
        
        <Footer />

        <style is:global>
            /* 1. PERSONALIZACIÓN VANTTA: Letras gruesas y suaves */
            h1, h2, h3, h4, .font-bold, .uppercase {
                font-weight: 900 !important;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                text-rendering: optimizeLegibility;
            }

            /* Técnica para las A sin línea media - Solo vía clip-path o font-feature si la fuente lo permite */
            /* Por ahora forzamos el estilo visual suave */
            .uppercase, h1 {
                letter-spacing: -0.04em;
                line-height: 0.9;
            }

            /* 2. REGLAS RESPONSIVE CRÍTICAS */
            html, body {
                width: 100%;
                margin: 0;
                padding: 0;
                overflow-x: hidden;
            }

            body {
                display: flex;
                flex-direction: column;
                min-height: 100vh;
            }
        </style>
    </body>
</html>